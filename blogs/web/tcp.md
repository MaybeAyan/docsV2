---
title: tcp与udp
date: 2024-01-17
tags:
  - node
categories:
  - 网络
prev: /blogs/web/CSRSSR
---

### TCP

- 面向连接
- 一对一，不支持广播和多播
- 面向字节流
- 可靠传输
- 提供拥塞控制
- 提供全双工通信

#### 三次握手

1.客户端询问服务端能否发起连接 SYN；  
2.服务端同意连接 SYN + ACK；  
3.客户端收到 ACK（防止网络阻塞造成的客服端服务端状态不一致）；

#### 四次挥手

处于连接状态的客户端和服务端，都可以发起关闭连接请求，此时需要四次挥手来进行连接关闭。

1.假设客户端主动发起连接关闭请求，表示要关闭连接  
2.服务端收到，表示自己进入了关闭等待状态  
3.服务端此时还可以发送未发送的数据，而客户端还可以接收数据，待服务端发送完数据之后，进入最后确认状态。  
4.客户端收到之后，进入超时等待状态，经过超时时间后关闭连接，而服务端收到后，立即关闭连接。

### UDP

- 面向无连接，不需要建立三次握手
- 支持一对一、一对多、多对多方式
- 面向报文
- 不可靠（传输前不需要先建立连接，不需要确认，不跟踪连接）

### 共同点

- TCP 与 UDP 都工作在传输层，都是在程序间传输数据

### 区别

- TCP 基于连接（打电话）
- UDP 基于非连接（写信）
